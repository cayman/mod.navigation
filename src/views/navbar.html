<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" ng-click="isExpanded = !isExpanded">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{{ menu.href }}">
                <img ng-if="menu.image" ng-src="{{ assets }}{{ menu.image }}"/>
                {{ menu.name }}
            </a>
        </div>
        <div id="navbar" class="navbar-collapse" ng-class="{collapse: !isExpanded}">
            <ul class="nav navbar-nav">
                <li id="{{item.id}}" ng-repeat="item in menu.items"
                    ng-class="{active: item.isActive, dropdown: item.items }" dropdown>
                    <!--Single item-->
                    <a ng-hide="item.items" href="{{ item.href }}">{{item.name}}</a>
                    <!--Dropdown item-->
                    <a ng-show="item.items" href="{{ item.href }}" data-toggle="dropdown"  class="dropdown-toggle" dropdown-toggle >
                        {{item.name}} <span class="caret"></span></a>
                    <ul ng-show="item.items" class="dropdown-menu" role="menu">
                        <li id="{{subItem.id}}" ng-repeat="subItem in item.items" ng-style="{{ subItem.style }}" >
                            <a ng-href="{{ subItem.href }}" target="{{ subItem.target }}">{{ subItem.name }}</a>
                        </li>
                    </ul>
                </li>
            </ul>

            <form class="navbar-form navbar-right" auth-block>
            </form>
        </div><!--/.nav-collapse -->
    </div>
</nav>